"use strict";function getNzbgetQueue(a){var b=serviceData.NG.apiUrl,c="/listgroups";ajax("GET",b+c).then(function(b){localStorage.setItem("NzbgetQueue",JSON.stringify(b)),serviceData.NG.queue.JSON=b,localStorage.setItem("Nzbget_error",!1),serviceData.NG.queue.error=!1,ngqHTML(),a&&a()},function(){localStorage.setItem("Nzbget_error",!0),serviceData.NG.queue.error=!0,a&&a()})}function getNzbgetHistory(a,b){var c=serviceData.NG.apiUrl,d="/history";ajax("GET",c+d).then(function(c){localStorage.setItem("NzbgetHistory",JSON.stringify(c)),serviceData.NG.JSON=c,localStorage.setItem("Nzbget_error",!1),serviceData.NG.error=!1,nghHTML(a),b&&b()},function(){localStorage.setItem("Nzbget_error",!0),serviceData.NG.error=!0,b&&b()})}function ngqHTML(){if(serviceData.NG.queue.JSON){var a,b=serviceData.NG.queue.JSON,c="<h2>Queue</h2>";b.result.forEach(function(b,d){a=b.DownloadedSizeMB/(b.FileSizeMB/100),c+='<div class="core-item ng-item-container without-hover"><div class="ng-item-name">'+htmlEncode(b.NZBName)+'</div><div class="ng-item-status">'+htmlEncode(b.Status+" - "+Math.round(a)+"%")+"</div></div>"}),b.result.length<1&&(c+='<div class="core-item without-hover">No items in queue at this moment.</div>'),localStorage.setItem("NzbgetQueueHTML",c),serviceData.NG.queue.HTML=c}}function nghHTML(a){if(serviceData.NG.history.JSON){var b=serviceData.NG.history.JSON,c="<h2>History</h2>";b.result.slice(0,a).forEach(function(a,b){c+='<div class="core-item ng-item-container"><div class="ng-item-name">'+htmlEncode(b.Name)+'</div><div class="core-item-icon"></div></div><div class="ng-collapse core-collapse"><div class="ng-collapse-status">'+htmlEncode(b.Status)+"</div></div>"}),b.result.length<1&&(c+='<div class="core-item without-hover">No items in history at this moment.</div>'),localStorage.setItem("NzbgetHistoryHTML",c),serviceData.NG.history.HTML=c}}