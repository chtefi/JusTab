"use strict";function cpShowData(){document.querySelector(".wanted").innerHTML="",document.querySelector(".snatched").innerHTML="",checkError("couchpotato","CouchpotatoSnatched_error"),checkError("couchpotato","CouchpotatoWanted_error"),serviceData.CP.wanted.HTML&&serviceData.CP.snatched.HTML&&(document.querySelector(".snatched").innerHTML=serviceData.CP.snatched.HTML,document.querySelector(".wanted").innerHTML=serviceData.CP.wanted.HTML,document.querySelector(".snatched .core-item")||(document.querySelector(".snatched").innerHTML='<h2>Snatched</h2><div class="core-item without-hover">No snatched movies at this moment.</div>'),document.querySelector(".wanted .core-item")||(document.querySelector(".wanted").innerHTML='<h2>Wanted</h2><div class="core-item without-hover">No wanted movies at this moment.</div>'))}function searchMovie(a){var b=a.getAttribute("id"),c=serviceData.CP.apiUrl,d=c+"/movie.refresh/?id="+b;ajax("GET",d).then(function(b){console.log(b),b.success?a.setAttribute("class","done-icon cp-search-movie waves-effect"):a.setAttribute("class","error-icon cp-search-movie waves-effect")},function(b){a.setAttribute("class","error-icon cp-search-movie waves-effect")})}function cpRemoveMovie(a){}function couchpotatoCheckScroll(a){var b=a.target,c=document.querySelectorAll("#couchpotato .wanted .cp-item").length;b.scrollHeight-b.scrollTop==b.offsetHeight&&c<serviceData.CP.wanted.JSON.total&&(document.querySelector("#couchpotato .wanted .loading-bar")||document.querySelector("#couchpotato .wanted").insertAdjacentHTML("beforeend",'<div class="core-item without-hover loading-bar">'+serviceData.spinner+"</div>"),chrome.runtime.getBackgroundPage(function(a){a.getWantedCouchPotato(c+25)}))}serviceDataRefreshDone.then(function(){serviceData.CP.status&&(document.querySelector("#couchpotato .panel-content").addEventListener("scroll",couchpotatoCheckScroll,!0),document.querySelector("#couchpotato .panel-header .panel-header-foreground .bottom a").setAttribute("href",serviceData.CP.url))}),document.querySelector("body").addEventListener("click",function(a){a.target.classList.contains("cp-search-movie")?searchMovie(a.target):a.target.classList.contains("cp-remove-movie")&&cpRemoveMovie(a.target)});