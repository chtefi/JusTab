function soShowData(){$("#sonarr .so-episodes").empty();var a=(serviceData.SO.apiUrl,serviceData.SO.error);"true"==a&&$("#sonarr .error").slideDown("slow"),"false"==a&&$("#sonarr .error").slideUp("slow"),$(".so-episodes").html(serviceData.SO.HTML),$(".so-poster").lazyload({threshold:200,effect:"fadeIn",container:$("#sonarr .panel-content")})}function searchEpisode(a){a.fadeOut(400,function(){a.removeClass("search-icon"),a.removeClass("error-icon"),a.html(serviceData.spinner),a.fadeIn(400)});var b=serviceData.SO.key,c=a.data("episode-id"),d=serviceData.SO.apiUrl+"command";$.ajax({async:!0,crossDomain:!0,url:d,method:"POST",headers:{"x-api-key":b},data:"{\n    name: 'EpisodeSearch',\n episodeId: "+c+"}"}).done(function(b){a.fadeOut(400,function(){"failure"==b.result?(a.addClass("error-icon"),a.attr("title",b.message)):a.addClass("done-icon"),a.html(""),a.fadeIn(400)})}).fail(function(){a.fadeOut(400,function(){a.addClass("error-icon"),a.attr("title","There was an error"),a.fadeIn(400)})})}$.when(serviceDataRefreshDone).done(function(){serviceData.SO.status&&($("#sonarr .refresh-so").click(function(){$("#sonarr .error:visible").slideUp(400),$(".refresh-so").fadeOut(400,function(){$(this).html(serviceData.spinner),$(this).fadeIn(400,function(){chrome.runtime.getBackgroundPage(function(a){a.getSonarrData(function(){$(".refresh-so").fadeOut(400,function(){$(this).html('<img src="img/icons/refresh.svg" alt="Refresh Sonarr" draggable=false>'),$(this).fadeIn(400)})})})})})}),$("#sonarr .panel-header .panel-header-foreground .bottom a").attr("href",serviceData.SO.url))}),$("html").on("click",".so-search-episode",function(){searchEpisode($(this))});