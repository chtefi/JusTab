"use strict";function soShowData(){document.querySelector("#sonarr .so-episodes").innerHTML="";serviceData.SO.apiUrl;checkError("sonarr","Sonarr_error"),document.querySelector(".so-episodes").innerHTML=serviceData.SO.HTML}function searchEpisode(a){replaceContent(a,serviceData.spinner).then(function(){a.removeClass("search-icon"),a.removeClass("error-icon")});var b=serviceData.SO.key,c=a.getAttribute("data-episode-id"),d=serviceData.SO.apiUrl+"command",e={"x-api-key":b},f="{\n    name: 'EpisodeSearch',\n episodeId: "+c+"}";ajax("POST",d,e,f).then(function(b){replaceContent(a,"").then(function(){"failure"==b.result?(a.classList.add("error-icon"),a.setAttribute("title",b.message)):a.classList.add("done-icon")})},function(){replaceContent(a,"").then(function(){a.classList.add("error-icon"),a.setAttribute("title","There was an error")})})}serviceDataRefreshDone.then(function(){serviceData.SO.status&&document.querySelector("#sonarr .panel-header .panel-header-foreground .bottom a").setAttribute("href",serviceData.SO.url)}),document.querySelector("html").addEventListener("click",function(a){var b=a.target.closest(".so-search-episode");b&&b(b)});