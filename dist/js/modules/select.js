function resetBackground(){$(".select .list-item").removeClass("selected")}function setListPostion(a){var b=$(".select .list"),c=a.index()*-a.outerHeight()-21;b.css("top",c),b.offset().top<$(".options-window:visible").offset().top&&setListPostion(a.prev())}$(document).ready(function(){var a=$(".select .list"),b=$(".select input");b.focus(function(){var b=$('.select .list-item[data-value="'+$(this).val()+'"]');if(b.addClass("selected"),a.show(),setListPostion(b),a.prop("scrollHeight")>a.outerHeight()){var c=a.css("padding-top").replace("px",""),d=a.scrollTop()+b.position().top-c-b.height();a.scrollTop(d)}}),b.keyup(function(a){a.preventDefault()}),b.blur(function(){setTimeout(function(){resetBackground(),a.hide()},100)}),$(".select .list-item").click(function(){resetBackground(),b.val($(this).text()),save_options(),a.hide()})});