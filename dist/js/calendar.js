function calenderShowEvents(){$("#calendar .events").empty();var a=serviceData.GC.error;"true"==a&&$("#calendar .error").slideDown("slow"),"false"==a&&$("#calendar .error").slideUp("slow"),serviceData.GC.HTML&&$("#calendar .events").html(serviceData.GC.HTML)}function calendarRemoveEvent(a){a.fadeOut(400,function(){a.removeClass("remove-icon"),a.removeClass("error-icon"),a.html(serviceData.spinner),a.fadeIn(400)}),chrome.identity.getAuthToken({interactive:!0},function(b){var c=a.data("calendarId"),d=a.data("eventId");removeUrl="https://www.googleapis.com/calendar/v3/calendars/"+c+"/events/"+d,$.ajax({url:removeUrl+"?&oauth_token="+b,type:"DELETE"}).done(function(){var b=a.parents(".gc-collapse"),c=b.prev(".gc-item");"H2"==c.prev().prop("tagName")&&c.prev().remove(),c.remove(),b.remove(),localStorage.setItem("CalendarHTML",$("#calendar .events").html()),serviceData.GC.HTML=$("#calendar .events").html()}).fail(function(b,c,d){a.fadeOut(400,function(){a.html(""),a.addClass("error-icon"),a.attr("title",d),a.fadeIn(400)}),console.log(b,c,d)})})}$.when(serviceDataRefreshDone).done(function(){serviceData.GC.status&&$(".refresh-calendar").click(function(){$("#calendar .error:visible").slideUp(400),$(".refresh-calendar").fadeOut(400,function(){$(this).html(serviceData.spinner),$(this).fadeIn(400,function(){chrome.runtime.getBackgroundPage(function(a){a.getCalendarData(function(){$(".refresh-calendar").fadeOut(400,function(){$(this).html('<img src="img/icons/refresh.svg" alt="Refresh Calendar" draggable=false>'),$(this).fadeIn(400)})})})})})})}),$("html").on("click",".gc-event-remove-icon",function(){calendarRemoveEvent($(this))});