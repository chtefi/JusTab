function sortServices(a,b){var c=localStorage.getItem("serviceOrder").split(",");$.each(c,function(c,d){serviceHTML=a.find("[data-service-id="+d+"]"),a.append(serviceHTML),serviceBottom=b.find("[data-service-id="+d+"]"),b.append(serviceBottom)})}function errorChange(a){serviceName=a.key.replace("_error","").toLowerCase(),newValue=a.newValue,"true"==newValue?$("#"+serviceName+" .error").slideDown("slow"):"false"==newValue&&$("#"+serviceName+" .error").slideUp("slow")}$.when(serviceDataRefreshDone,$.ready,$(document).ready,$(window).load).done(function(){localStorage.getItem("serviceOrder")&&sortServices($(".panel-container"),$(".bottom-bar-container")),$.each(serviceData,function(a,b){serviceStatus=b.status,serviceId="#"+b.containerId,serviceInfo="."+b.containerId+"-info",console.log(b.containerId,serviceStatus),serviceStatus&&(window[b.feFunctionName](),$(serviceId).show())}),$("body").width(400*$(".panel:visible").length),$(".bottom-bar-container").width($("body").width()),$("img").attr("draggable",!1),$(".settings-button, .error-settings-button").click(function(){chrome.tabs.create({url:chrome.extension.getURL("options.html")})}),$(".error-retry-button").click(function(){var a=$(this).closest(".panel-content").prev(".panel-header").find(".refresh-button");a.click()}),$(window).bind("storage",function(a){var b={CalendarHTML:calenderShowEvents,GmailReadHTML:GmailShowData,GmailUnreadHTML:GmailShowData,FacebookHTML:fbShowData,CouchpotatoSnatchedHTML:cpShowData,CouchpotatoWantedHTML:cpShowData,SickbeardMissedHTML:sbShowData,SickbeardTodayHTML:sbShowData,SickbeardSoonHTML:sbShowData,SickbeardLaterHTML:sbShowData,SabnzbdStatusHTML:sabShowData,SabnzbdQueueHTML:sabShowData,SabnzbdHistoryHTML:sabShowData,DesignernewsHTML:dnShowData,HackernewsHTML:hnShowData,GithubHTML:ghShowData,ProductHuntHTML:phShowData,DribbbleHTML:drShowData};-1!=a.originalEvent.key.indexOf("_error")&&errorChange(a.originalEvent),b[a.originalEvent.key]&&(currentTabs=chrome.extension.getViews({type:"tab"}),console.log(a.originalEvent.key),chrome.runtime.getBackgroundPage(function(c){c.refreshServiceData(),$.when(c.serviceDataRefreshDone).then(function(){$.each(currentTabs,function(c,d){d.refreshServiceData(),$.when(d.serviceDataRefreshDone).then(function(){storageFunction=b[a.originalEvent.key],d.storageFunction&&d.storageFunction()})})})}))})});